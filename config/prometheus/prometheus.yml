global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    project: chiroerp
    environment: local

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ["prometheus:9090"]

  - job_name: redpanda
    metrics_path: /public_metrics
    static_configs:
      - targets: ["redpanda:9644"]

  # Temporal emits Prometheus metrics on port 8000 in auto-setup image.
  - job_name: temporal
    static_configs:
      - targets: ["temporal:8000"]

  # Placeholder module targets for pre-implementation MVP.
  # These targets are expected to run on the host during local development.
  - job_name: chiroerp-modules
    metrics_path: /q/metrics
    static_configs:
      - targets:
          - host.docker.internal:8071
        labels:
          module: tenancy-core
      - targets:
          - host.docker.internal:8072
        labels:
          module: identity-core
      - targets:
          - host.docker.internal:8081
        labels:
          module: finance-gl
      - targets:
          - host.docker.internal:8082
        labels:
          module: finance-ar
      - targets:
          - host.docker.internal:8083
        labels:
          module: finance-ap
      - targets:
          - host.docker.internal:8084
        labels:
          module: finance-assets
      - targets:
          - host.docker.internal:8085
        labels:
          module: finance-tax
