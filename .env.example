# ChiroERP Environment Configuration Template
# Copy this file to .env and configure with actual values
# NEVER commit .env file with real credentials

# ============================================================================
# DOCKER COMPOSE (PRE-IMPLEMENTATION MVP INFRA)
# ============================================================================

# Single app PostgreSQL instance (schema-per-service for scaffolded modules)
POSTGRES_APP_HOST=localhost
POSTGRES_APP_PORT=5432
POSTGRES_APP_DB=chiroerp
POSTGRES_APP_USER=chiroerp_admin
POSTGRES_APP_PASSWORD=dev_password

# Dedicated Temporal PostgreSQL instance
POSTGRES_TEMPORAL_PORT=5437
TEMPORAL_DB_NAME=temporal
TEMPORAL_DB_USER=temporal
TEMPORAL_DB_PASSWORD=temporal

# Local admin tools
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
PGADMIN_EMAIL=admin@chiroerp.local
PGADMIN_PASSWORD=admin

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Shared PostgreSQL endpoint for local MVP (schema-per-service partitioning)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=chiroerp
POSTGRES_SSL_MODE=disable

# Finance modules
POSTGRES_GL_SCHEMA=finance_gl
POSTGRES_GL_USER=svc_finance_gl
POSTGRES_GL_PASSWORD=dev_password

POSTGRES_AR_SCHEMA=finance_ar
POSTGRES_AR_USER=svc_finance_ar
POSTGRES_AR_PASSWORD=dev_password

POSTGRES_AP_SCHEMA=finance_ap
POSTGRES_AP_USER=svc_finance_ap
POSTGRES_AP_PASSWORD=dev_password

POSTGRES_ASSETS_SCHEMA=finance_assets
POSTGRES_ASSETS_USER=svc_finance_assets
POSTGRES_ASSETS_PASSWORD=dev_password

POSTGRES_TAX_SCHEMA=finance_tax
POSTGRES_TAX_USER=svc_finance_tax
POSTGRES_TAX_PASSWORD=dev_password

# Tenancy & Identity
POSTGRES_TENANCY_SCHEMA=tenancy_core
POSTGRES_TENANCY_USER=svc_tenancy_core
POSTGRES_TENANCY_PASSWORD=dev_password

POSTGRES_IDENTITY_SCHEMA=identity_core
POSTGRES_IDENTITY_USER=svc_identity_core
POSTGRES_IDENTITY_PASSWORD=dev_password

# ============================================================================
# MESSAGING & EVENT STREAMING
# ============================================================================

# Apache Kafka
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SCHEMA_REGISTRY_URL=http://localhost:8081
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SECURITY_PROTOCOL=SASL_SSL
KAFKA_SASL_JAAS_CONFIG=

# ============================================================================
# CACHING & SESSION MANAGEMENT
# ============================================================================

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=dev_password
REDIS_DATABASE=0

# ============================================================================
# OBSERVABILITY & MONITORING
# ============================================================================

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=chiroerp
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# Prometheus
PROMETHEUS_PUSHGATEWAY_URL=http://localhost:9091

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================

# JWT Configuration
JWT_SECRET=changeme-generate-secure-random-string
JWT_ISSUER=chiroerp
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=7

# OAuth2 / OIDC (if applicable)
OIDC_AUTH_SERVER_URL=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=

# ============================================================================
# MULTI-TENANCY
# ============================================================================

# Tenant Isolation Strategy: SCHEMA | DATABASE | DISCRIMINATOR
TENANT_ISOLATION_STRATEGY=SCHEMA
DEFAULT_TENANT_ID=default

# ============================================================================
# API GATEWAY & SERVICE DISCOVERY
# ============================================================================

# API Gateway
API_GATEWAY_HOST=localhost
API_GATEWAY_PORT=8080

# Service Registry (Consul/Eureka)
SERVICE_REGISTRY_URL=http://localhost:8500

# ============================================================================
# EXTERNAL INTEGRATIONS
# ============================================================================

# EDI/B2B Integration
EDI_PARTNER_FTP_HOST=
EDI_PARTNER_FTP_USER=
EDI_PARTNER_FTP_PASSWORD=

# Email Service (SMTP)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=noreply@chiroerp.com

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment: development | staging | production
APP_ENVIRONMENT=development

# Logging Level: TRACE | DEBUG | INFO | WARN | ERROR
LOG_LEVEL=INFO

# Feature Flags
FEATURE_REVENUE_RECOGNITION_ENABLED=true
FEATURE_LEASE_ACCOUNTING_ENABLED=true
FEATURE_ESG_REPORTING_ENABLED=false

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Enable dev mode features
QUARKUS_DEV_MODE=true
QUARKUS_LOG_CONSOLE_FORMAT=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# H2 In-Memory Database (for testing)
H2_CONSOLE_ENABLED=false

# ============================================================================
# CI/CD & DEPLOYMENT
# ============================================================================

# Container Registry
CONTAINER_REGISTRY=ghcr.io
CONTAINER_REGISTRY_USER=
CONTAINER_REGISTRY_TOKEN=

# Deployment Target
DEPLOYMENT_NAMESPACE=chiroerp
DEPLOYMENT_CLUSTER=

# ============================================================================
# LOCALIZATION & COMPLIANCE
# ============================================================================

# Default Locale
DEFAULT_LOCALE=en_US
DEFAULT_TIMEZONE=UTC
DEFAULT_CURRENCY=USD

# Tax Jurisdiction
TAX_JURISDICTION=US
TAX_ENGINE_ENABLED=true

# ============================================================================
# PERFORMANCE & SCALING
# ============================================================================

# Thread Pool Configuration
EXECUTOR_CORE_POOL_SIZE=10
EXECUTOR_MAX_POOL_SIZE=50
EXECUTOR_QUEUE_CAPACITY=100

# Connection Pool (HikariCP)
DB_POOL_MIN_IDLE=5
DB_POOL_MAX_SIZE=20
DB_POOL_CONNECTION_TIMEOUT=30000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
